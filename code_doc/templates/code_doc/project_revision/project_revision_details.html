{% extends "code_doc/base_template.html" %}
{% load static %}
{% load button_add_with_permission %}

{% block title %}{{ project.name }}{% endblock %}


{% block content %}
  <h1><a href="{% url 'project' project.id %}">{{ project.name }}</a> - {{version.version}}</h1>

  <h3>Description {% button_edit_series_with_permission user version %} </h3>
  {{version.description|safe}}
  
  
  <h3>Artifacts for series {{version.version}} {% button_add_artifact_with_permission user version %}
  </h3>
  

  {% if artifacts %}
  
	  <table class="table table-hover">
	      <thead>
	        <tr>
	          <th>Id</th>
	          <th>Name</th>
	          <th>Label</th>
	          <th>MD5</th>
	          <th>Description</th>
	          <th>Upload date</th>
	          <th>Uploaded by</th>
	        </tr>
	      </thead>
	
	    {% for artifact in artifacts %}
	    
	      <tbody>
	        <tr>
	          <td>{{artifact.pk}}</td>
	          <th class="text-nowrap"><a href="{%get_media_prefix%}{{artifact.artifactfile}}">{{artifact.filename}}</a></th>
	          
            <td>
            {% if artifact.is_documentation %}
              <span class="label label-info">doc</span>
            {% endif %}
              {% if artifact.documentation_entry_file %}
                <a href="{%get_media_prefix%}{{artifact.get_documentation_url}}">read online</a>
              {% endif %}
            </td>
            <td><small><span style="font-family:monospace;">{{artifact.md5hash|upper}}</span></small></td>
	          <td>{{artifact.description}}</td>
	          <td>{{artifact.upload_date|date}}</td>
	          <td>{{artifact.uploaded_by}}</td>
	          
	        </tr>
	    {%endfor%}
	  </table>  
  
  {% else %}
      <p>No artifacts for this revision {{ version.version }}.</p>
  {% endif %}


{% endblock %}
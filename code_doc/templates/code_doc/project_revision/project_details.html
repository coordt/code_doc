{% extends "code_doc/base_template.html" %}
{% load gravatar %}
{% load staticfiles %}
{% load author_image %}
{% load button_add_with_permission %}

{% block title %}{{ project.name }}{% endblock %}


{% block content %}
  <h1>{{ project.name }}</h1>

  


  <div class="row">
    <div class="col-md-8">
      <h3>Description</h3>
      {{ project.description|safe }}
    </div>
    <div class="col-sm-4">
      <h4>Authors</h4>
      {% if project.authors %}
  
  
				<div class="row">
				  <div class="col-xs-8 col-sm-4">
				    {% for author in project.authors.all %}
		        <a href="{% url 'author' author.id %}" class="thumbnail" alt="{{author.firstname}} {{author.lastname}}">
		          <img data-src="holder.js/100%x64" > 
		          {% author_image author.id %}
		        </a>
				    {% endfor %}
				  </div>
				  
				</div>  
      {% else %}
        <p>No author.</p>
      {% endif %}
      
      
      <h4>Maintainers</h4>
		  {% if project.administrators.count > 0 %}
		  
		    <ul>
		    {% for maintainer in project.administrators.all %}
		      <li>
		        {{ maintainer.username }}
		        {% if maintainer.email.size %}
		          <a href="mailto:{{maintainer.email}}" >{{ maintainer.firstname }} {{ maintainer.lastname }} / {{maintainer.email}}</a>
		        {% else %}
		          (no information provided)
		        {% endif %}
		      </li>
		    {% endfor %}
		    </ul>
		  
		  {% else %}
		      <p>No known maintainer.</p>
		  {% endif %}      
      
    </div>  
  
  </div>

  
  

 
 
 
  <h3>Versions {% button_add_version_with_permission user project %}
  </h3>

  {% if versions %}
  
    <table class="table table-hover">
        <thead>
          <tr>
            <th>Version</th>
            <th>Visbility</th>
            <th>Release date</th>
            <th># files</th>
            <th>Description</th>
            
          </tr>
        </thead>
  
      {% for version in versions %}
      
        <tbody>
          <tr>
            <th class="text-nowrap"><a href="{% url 'project_revision' project.id version.id %}" >{{ version.version }}</a></th>
            <td>
            {% if version.is_public %}
              <span class="label label-success">Public</span>
            {% else %}
              <span class="label label-warning">Restricted</span>
            {% endif %}</td>
            <td>{{ version.release_date }}</td>
            <td>{{ version.artifacts.count }}</td>
            <td>{{ version.description|safe }}</td>
          </tr>
      {%endfor%}
    </table>    
  

  
  {% else %}
      <p>No known released versions.</p>
  {% endif %}


{% endblock %}
{% load static %}
{% block content %}

<!-- Button -->
<a id="my_butt" type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#modal_add_user">
<span class="glyphicon glyphicon-plus"></span> {{text}}
</a>


<!-- Modal -->
<div class="modal fade" id="modal_add_user" role="dialog">
  <div class="modal-dialog">
	
	<!-- Modal content-->
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
	
	    <!-- the form action has to be a valid url to a created view of the form type -->
	    <form action="{% url 'project_series_edit' project.id series.id %}" method="post" class="form">
	    {% csrf_token %}
	    
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		    <span aria-hidden="true">Ã—</span>
			<span class="sr-only">Close</span>
		  </button>
          <h3 class="modal-title">Select user:</h3>
        </div>
        <div class="modal-body">
          <div class="ui-widget">
            <input id="user_selection" />
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="ok_btn" class="btn btn-primary" data-dismiss="modal" value="Submit">Add</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
      
      </form>
      
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal-fade -->

<script>
$(document).ready(function(){
  $( "#user_selection" ).autocomplete({
    source: "/api/get_usernames/",
    classes: {
      "ui-autocomplete": "highlight",
      "ui-menu": "highlight"
    }
  });
  
  $("#ok_btn").click(function(){
  	alert($("#user_selection").val());
  	$("#blabla").val("1")
  });
});
</script>
{% endblock %}
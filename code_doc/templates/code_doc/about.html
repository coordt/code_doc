{% extends "code_doc/base_template.html" %}
{% load gravatar %}
{% load staticfiles %}
{% load static %}
{% load project_image %}
{% load markdown_filter %}

{% block title %}About this web application{% endblock %}


{% block content %}

{% markdown_tag %}



Welcome to [code_doc](https://bitbucket.org/renficiaud/code_doc) project!
============================

The main purposes of this web application is to make your code more appealing and to enhance the collaboration.

To that extent, this application focuses on:

* storing the documentation and binaries that you want to share, with your public or with your team mates.
* making your projects available to the public or to specific groups and increase their visibility



----------------------------

[TOC]


----------------------------

What are the functionalities offered?
=====================================

* Possibility to upload or update archives, documentation or any kind of artifact directly from a script: this make it convenient
  to plug `code_doc` to your prefered automated build system. The update is done simply with a python script that sends
  the artifacts to the appropriate place.
* The uploaded documentation is not interpreted in any way: it is possible to upload an archive containing HTML or text files
  generated by any documentation tool (Docbook, Doxygen, Matlab, Sphinx, etc.) as long as this file can be interpreted by a web-browser.
* Fine permissions management: you work on a private personal project, and you want to share the advance within a restricted group
  of people? Your project is public and you want to make it available to anyone?
  `code_doc` addresses these constraints and
  is particularly adapted to various kind of work environment. No need to set up different private servers: only one
  instance with the proper authorization on project and series.

----------------------------

Ready to set up?
================
You are certainly convinced by the usefulness (or necessity) of this web site. In the sequel, the three main objects
manipulated by `code_doc` will be detailed.

The two ingredients for being able to push *things* on this server are

* Defining a project
* Defining one or more series for this project


A project contains the following informations:

* the purpose of the project and the services it provides
* how to use the source or binary code (copyrights, location of the source code)
* its maintainers and how to contact them
* its authors
* and a list of series

A serie is composed of

* a description which indicates the purpose of the serie (continuous build, /release/, /stable/, /developments/, /experimental/ ...)
* a release date
* permissions
* a list of artifacts that can either be single files or archives containing documentation

### Create a project
At the moment, creating a project is an *admin* priviledge, so you should ask your administrator to create a project for you.


### Create a serie
You can create a new serie if you have the proper credentials on the project. If so, a "+" button is active right to the "Version" header on the project page.

### Markdown format

[Markdown](http://daringfireball.net/projects/markdown/) is used all over the place using the python [markdown](http://pythonhosted.org/Markdown/index.html)
extension and the code highlighter [pygments](http://pygments.org/). The best place to start is to look at [this page](http://daringfireball.net/projects/markdown/).

To insert some code as explanation, you can do the following

    :::bash
    :::bash
    pip install my_package

If the block above is indented with 4 spaces, then Markdown interprets it as code with the designated language. You can also do

    #!bash
    #!bash
    pip install my_package

instead, and in this case the lines will be numbered. These code blocks can be nested with lists (the indentation then becomes 8 spaces).

----------------------------

# Automated update

One of the nice functionalities of *code doc* is to be able to push artifacts on the server. This enables the project/serie content to be
update from a build server for instance.

The following steps should be followed:

* have proper credentials that allows you to upload something on this server
* Download [the script]({% url 'script' %}) manually from here or automatically as follow:

        :::bash
        wget {{request.scheme}}://{{request.get_host}}{% url 'script' %} -O script.py

* Create a task in your build scheme that uploads the artifact. For regular artifacts (not documentation):

        :::bash
        python script.py -s {{request.scheme}}://{{request.get_host}} --username=user --password=pass \
               --project="project-name" --artifact_version="project-version" \
               -f filetosend.tar.bz2
  For documentation, you have to specify an additional flag and the main entry point of the documentation:

        :::bash
        python script.py -s {{request.scheme}}://{{request.get_host}} --username=$USER --password=$PASS \
               --project="project-name" --artifact_version="project-version" \
               --is_doc --doc_entry=my_tar_content/index.html \
               -f filetosend.tar.bz2




----------------------------

# Deployment

The deployment part is a bit out of scope of the current document, and is detailed on the [wiki](https://bitbucket.org/renficiaud/code_doc/wiki/Home)
pages of the project.



{% endmarkdown_tag %}

{% endblock %}

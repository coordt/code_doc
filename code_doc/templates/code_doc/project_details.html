{% extends "code_doc/base_template.html" %}
{% load gravatar %}
{% load staticfiles %}
{% load author_image %}

{% block title %}{{ project.name }}{% endblock %}


{% block content %}
  <h1>{{ project.name }}</h1>

  {{ project.description|safe }}

  <h3>Authors</h3>
  {% if project.authors %}
  
  
		<div class="row">
		  <div class="col-xs-6 col-md-1">
		    {% for author in project.authors.all %}
        <a href="{% url 'author' author.id %}" class="thumbnail">
          <img data-src="holder.js/100%x64"> 
          {% author_image author.id %}
        </a>
		    {% endfor %}
		  </div>
		  
		</div>  
  
    <div class="media">
      {% for author in project.authors.all %}
        <a class="pull-left" href="#">
          {% author_image author.id %}
        </a>
    
        <div class="media-body">
          <h4 class="media-heading"><a href="{% url 'author' author.id %}" >{{ author.firstname }} {{ author.lastname }}</a></h4>
        </div>
      {% endfor %}
    </div>
  
  {% else %}
      <p>No author.</p>
  {% endif %}


  
  <h3>Maintainers</h3>
  {% if project.administrators.count > 0 %}
  
    <ul>
    {% for maintainer in project.administrators.all %}
      <li>
        <a href="mailto:{{maintainer.email}}" >{{ maintainer.firstname }} {{ maintainer.lastname }} / {{maintainer.email}}</a>
      </li>
    {% endfor %}
    </ul>
  
  {% else %}
      <p>No known maintainer.</p>
  {% endif %}
 
 
 
  <h3>Versions</h3>
  {% if versions %}
  
    <div class="media">
      {% for version in versions %}

        <div class="media-body">
          <h4 class="media-heading">
            <a href="{% url 'project_version' project.id version.id %}" >{{ version.version }}</a>
            {% if version.is_public %}
              <span class="label label-success">Public</span>
            {% else %}
              <span class="label label-warning">Restricted</span>
            {% endif %}
          </h4>
          <p>Released {{ version.release_date }} / {{ version.artifacts.count }} file(s)</p>
          <p>{{ version.description|safe }}</p>
        </div>
      {% endfor %}
    </div>
  
  {% else %}
      <p>No known released versions.</p>
  {% endif %}


{% endblock %}